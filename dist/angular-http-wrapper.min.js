/**
 * angular-http-wrapper
 * @version v0.0.1 - 2014-12-22
 * @link https://github.com/sysofwan/http-wrapper
 * @author Sayyid Sofwan <sysofwan@umich.edu>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("sysofwan.httpWrapper",[]).factory("httpWrapper",["$http",function(a){var b=function(a){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")},c=function(a,b){return!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(b)},d=function(a,d){var e=[];return angular.forEach(a.split(/\W/),function(b){c(b,a)&&e.push(b)}),a=a.replace(/\\:/g,":"),angular.forEach(e,function(c){var e=d[c];angular.isDefined(e)&&null!==e?(a=a.replace(new RegExp(":"+c+"(\\W|$)","g"),function(a,c){return b(e)+c}),delete d[c]):a=a.replace(new RegExp("(/?):"+c+"(\\W|$)","g"),function(a,b,c){return"/"===c.charAt(0)?c:b+c})}),a=a.replace(/\/+$/,"")||"/",a=a.replace(/\/\.(?=\w+($|\?))/,"."),a=a.replace(/\/\\\./,"/.")},e=function(a,b){return b=b||{},angular.extend({},b,{params:a})},f=function(a){return a.data},g=function(a){var b,c,d,e=0;if(0===a.length)return e;for(b=0,d=a.length;d>b;b++)c=a.charCodeAt(b),e=(31*e+c)%4e9;return e},h=function k(a,b,c,d){b=b||{},c=c||{},d=d||[];var e,f=function(e,f){return e=angular.extend({},b,e),f=angular.extend({},c,f),a(e,f).then(function(a){return angular.forEach(d,function(b){a=b(a)}),a})};return f.modify=function(e){return k(a,b,c,d.concat(e))},f.partial=function(e,f){return e=e||{},f=f||{},e=angular.extend({},b,e),f=angular.extend({},c,f),k(a,e,f,d)},f.url=function(){return a.url(b,c)},f.hash=function(){if(!e){var a=this.url();angular.forEach(d,function(b){a+=b.toString()}),e=g(a)}return e},f},i=function(b,c,g){var i=function(c,g){c=c||{};var h=d(b,c);return g=e(c,g),a.get(h,g).then(f)};return i.url=function(a){return a=angular.copy(a),d(b,a)},h(i,c,g)},j=function(a){return function(b,c,e){var g=function(c,e){c=c||{},e=e||{};var g=d(b,c);return a(g,c,e).then(f)};return g.url=function(a){return a=angular.copy(a),d(b,a)},h(g,c,e)}};return{get:i,"delete":j(a["delete"]),post:j(a.post),put:j(a.put),patch:j(a.patch)}}]);