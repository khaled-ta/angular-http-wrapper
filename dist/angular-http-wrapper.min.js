/**
 * angular-http-wrapper
 * @version v0.0.1 - 2014-10-20
 * @link https://github.com/sysofwan/http-wrapper
 * @author Sayyid Sofwan <sysofwan@umich.edu>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("sysofwan.httpWrapper",[]).factory("httpWrapper",["$http",function(a){var b=function(a){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")},c=function(a,b){return!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(b)},d=function(a,d){var e=[];return angular.forEach(a.split(/\W/),function(b){c(b,a)&&e.push(b)}),a=a.replace(/\\:/g,":"),angular.forEach(e,function(c){var e=d[c];angular.isDefined(e)&&null!==e?(a=a.replace(new RegExp(":"+c+"(\\W|$)","g"),function(a,c){return b(e)+c}),delete d[c]):a=a.replace(new RegExp("(/?):"+c+"(\\W|$)","g"),function(a,b,c){return"/"===c.charAt(0)?c:b+c})}),a=a.replace(/\/+$/,"")||"/",a=a.replace(/\/\.(?=\w+($|\?))/,"."),a=a.replace(/\/\\\./,"/.")},e=function(a,b){return a=a||{},b=b||{},angular.extend({},a,b)},f=function(a,b,c){return b=b||{},c=c||{},angular.extend({},b,c,{params:a})},g=function(a,b){return a=a||{},b=b||{},angular.extend({},a,b)},h=function(a){return a.data},i=function(a){return function(b,c,f){var i=function(i,j){i=e(c,i);var k=d(b,i);return j=g(f,j),a(k,i,j).then(h)};return i.url=function(a){return a=e(a,c),d(b,a)},i}};return{get:function(b,c,g){var i=function(i,j){i=e(c,i);var k=d(b,i);return j=f(i,g,j),a.get(k,j).then(h)};return i.url=function(a){return a=e(a,c),d(b,a)},i},"delete":i(a.delete),post:i(a.post),put:i(a.put),patch:i(a.patch),partial:function(a,b,c){b=b||{},c=c||{};var d=function(d,e){return d=d||{},e=e||{},d=angular.extend(angular.copy(b),d),e=angular.extend(angular.copy(c),e),a(d,e)};return d.url=function(c){return c=e(c,b),a.url(c)},d},modifyResults:function(a,b){var c=function(c,d){return a(c,d).then(b)};return c.url=function(b){return a.url(b)},c}}}]);