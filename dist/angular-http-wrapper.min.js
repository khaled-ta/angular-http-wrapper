/**
 * angular-http-wrapper
 * @version v0.0.1 - 2015-01-12
 * @link https://github.com/sysofwan/http-wrapper
 * @author Sayyid Sofwan <sysofwan@umich.edu>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("sysofwan.httpWrapper",[]).provider("httpWrapper",function(){var a="";return{setBaseUrl:function(b){a=b},$get:["$http","$location",function(b,c){var d=function(b){return!a||"/"!==b.charAt(0)||1!==b.length&&"/"===b.charAt(1)?b:"//"+c.host()+a+b.substring(1)},e=function(a){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")},f=function(a,b){return!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(b)},g=function(a,b){var c=[];return angular.forEach(a.split(/\W/),function(b){f(b,a)&&c.push(b)}),a=a.replace(/\\:/g,":"),angular.forEach(c,function(c){var d=b[c];angular.isDefined(d)&&null!==d?(a=a.replace(new RegExp(":"+c+"(\\W|$)","g"),function(a,b){return e(d)+b}),delete b[c]):a=a.replace(new RegExp("(/?):"+c+"(\\W|$)","g"),function(a,b,c){return"/"===c.charAt(0)?c:b+c})}),a=a.replace(/\/+$/,"")||"/",a=a.replace(/\/\.(?=\w+($|\?))/,"."),a=a.replace(/\/\\\./,"/."),a=d(a)},h=function(a,b){return b=b||{},angular.extend({},b,{params:a})},i=function(a){return a.data},j=function(a){var b,c,d,e=0;if(0===a.length)return e;for(b=0,d=a.length;d>b;b++)c=a.charCodeAt(b),e=(31*e+c)%4e9;return e},k=function n(a,b,c,d){b=b||{},c=c||{},d=d||[];var e,f=function(e,f){return e=angular.extend({},b,e),f=angular.extend({},c,f),a(e,f).then(function(a){return angular.forEach(d,function(b){a=b(a)}),a})};return f.modify=function(e){return n(a,b,c,d.concat(e))},f.partial=function(e,f){return e=e||{},f=f||{},e=angular.extend({},b,e),f=angular.extend({},c,f),n(a,e,f,d)},f.url=function(){return a.url(b,c)},f.hash=function(){if(!e){var a=this.url();angular.forEach(d,function(b){a+=b.toString()}),e=j(a)}return e},f},l=function(a,c,d){var e=function(c,d){c=c||{};var e=g(a,c);return d=h(c,d),b.get(e,d).then(i)};return e.url=function(b){return b=angular.copy(b),g(a,b)},k(e,c,d)},m=function(a){return function(b,c,d){var e=function(c,d){c=c||{},d=d||{};var e=g(b,c);return a(e,c,d).then(i)};return e.url=function(a){return a=angular.copy(a),g(b,a)},k(e,c,d)}};return{get:l,"delete":m(b.delete),post:m(b.post),put:m(b.put),patch:m(b.patch)}}]}});